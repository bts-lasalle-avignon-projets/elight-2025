<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projet elight: Guide d&#39;installation de la base de données</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="projet-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Projet elight
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">BTS CIEL IR LaSalle Avignon 2025</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__mnt_sda_home_tv__documents_git_projets_2025_elight_2025_base_de_donnees__g_u_i_d_e__d__i_n_s_t_a_l_l_a_t_i_o_n.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Guide d'installation de la base de données </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>MySQL</h1>
<p><a href="https://www.mysql.com/fr/">MySQL</a> est un système de gestion de bases de données relationnelles (SGBDR). Il fonctionne en <b>client/serveur</b>.</p>
<p>Il est distribué sous une double licence GPL et propriétaire. Il fait partie des logiciels de gestion de base de données les plus utilisés au monde, autant par le grand public (applications web principalement) que par des professionnels, en concurrence avec Oracle, Informix, PostgreSQL, et Microsoft SQL Server.</p>
<p>MySQL fonctionne sur de nombreux systèmes d’exploitation différents, incluant GNU/Linux, Mac OS X et Windows. Les bases de données sont accessibles en utilisant les langages de programmation C, C++, VisualBasic, VB .NET, C#, Delphi/Kylix, Eiffel, Java, Perl, PHP, Python, Windev, Ruby et Tcl. Une API spécifique est disponible pour chacun d’entre eux.</p>
<blockquote class="doxtable">
<p>En 2009, à la suite du rachat de MySQL par Sun Microsystems et des annonces du rachat de Sun Microsystems par Oracle Corporation, Michael Widenius, fondateur de MySQL, quitte cette société pour lancer le projet MariaDB, dans une démarche visant à remplacer MySQL tout en assurant l’interopérabilité. Le nom vient de la 2e fille de Michael Widenius, Maria (la première s’appelant My). MariaDB a été choisi par défaut sur les distributions « Debian ». </p>
</blockquote>
<p>Le serveur peut être installé à partir des paquets ou en utilisant un conteneur <a href="https://dev.mysql.com/doc/mysql-installation-excerpt/8.0/en/docker-mysql-getting-started.html">Docker</a>.</p>
<h2>Solution n°1 : paquet Ubuntu</h2>
<div class="fragment"><div class="line">$ sudo apt install mysql-server</div>
<div class="line"> </div>
<div class="line">$ mysql --version</div>
<div class="line"> </div>
<div class="line">$ sudo systemctl status mysql.service</div>
<div class="line"> </div>
<div class="line">$ mysql -h 127.0.0.1 -u root -ppassword -e &quot;show databases;&quot;</div>
</div><!-- fragment --><h2>Solution n°2 : Docker</h2>
<ul>
<li>Installation <code>docker-ce</code> :</li>
</ul>
<div class="fragment"><div class="line">$ sudo apt update</div>
<div class="line">$ sudo apt install ca-certificates curl gnupg</div>
<div class="line">$ sudo install -m 0755 -d /etc/apt/keyrings</div>
<div class="line">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</div>
<div class="line">$ sudo chmod a+r /etc/apt/keyrings/docker.gpg</div>
<div class="line">$ echo   &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \</div>
<div class="line">  $(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;) stable&quot; |   sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</div>
<div class="line">$ sudo apt update</div>
<div class="line"> </div>
<div class="line">$ sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</div>
<div class="line"> </div>
<div class="line">$ docker --version</div>
<div class="line">$ docker compose version</div>
<div class="line">$ docker version</div>
</div><!-- fragment --><ul>
<li>Création et démarrage du serveur MySQL :</li>
</ul>
<blockquote class="doxtable">
<p>Vérifier que le serveur MySQL ne s'exécute pas en local : <code>systemctl status mysql.service</code> sinon il faut l'arrêter avec <code>sudo systemctl stop mysql.service</code>. </p>
</blockquote>
<div class="fragment"><div class="line">$ docker compose up -d</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>Sinon pour simplement démarrer le service mysql : <code>$ docker compose start mysql</code> </p>
</blockquote>
<ul>
<li>Vérifications :</li>
</ul>
<div class="fragment"><div class="line">$ docker compose ls</div>
<div class="line"> </div>
<div class="line">$ docker compose ps</div>
<div class="line">$ docker ps -a</div>
<div class="line"> </div>
<div class="line">$ docker images</div>
<div class="line"> </div>
<div class="line">$ docker compose top</div>
</div><!-- fragment --><ul>
<li>Redémarrer le service mysql :</li>
</ul>
<div class="fragment"><div class="line">$ docker compose restart mysql</div>
</div><!-- fragment --><ul>
<li>Arrêter le service mysql :</li>
</ul>
<div class="fragment"><div class="line">$ docker compose stop mysql</div>
</div><!-- fragment --><ul>
<li>Si besoin, supprimer l'image <code>mysql</code> :</li>
</ul>
<div class="fragment"><div class="line">$ docker compose rm mysql</div>
<div class="line">$ docker rmi $(docker images mysql -q)</div>
</div><!-- fragment --><h1>Base de données eLight</h1>
<div class="fragment"><div class="line"><span class="keyword">CREATE</span> DATABASE <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> eLight;</div>
<div class="line"> </div>
<div class="line">USE eLight;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> scenario (</div>
<div class="line">    id_scenario <span class="keywordtype">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</div>
<div class="line">    nom_scenario <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">255</span>) <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    intensite_scenario <span class="keywordtype">INT</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span> <span class="keyword">DEFAULT</span> <span class="stringliteral">200</span>,</div>
<div class="line">    date_creation_scenario <span class="keywordtype">TIMESTAMP</span> <span class="keyword">DEFAULT</span> <span class="keyword">CURRENT_TIMESTAMP</span></div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> salle (</div>
<div class="line">    id_salle <span class="keywordtype">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</div>
<div class="line">    nom_salle <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">255</span>) <span class="keyword">UNIQUE</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    ip_boitier <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">15</span>) <span class="keyword">UNIQUE</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span></div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> segment (</div>
<div class="line">    id_segment <span class="keywordtype">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</div>
<div class="line">    id_salle <span class="keywordtype">INT</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    id_scenario <span class="keywordtype">INT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    ip_segment <span class="keywordtype">VARCHAR</span>(<span class="stringliteral">15</span>) <span class="keyword">UNIQUE</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    <span class="keyword">CONSTRAINT</span> fk_segment_salle <span class="keyword">FOREIGN</span> KEY (id_salle) <span class="keyword">REFERENCES</span> salle(id_salle) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE,</div>
<div class="line">    <span class="keyword">CONSTRAINT</span> fk_segment_scenario <span class="keyword">FOREIGN</span> KEY (id_scenario) <span class="keyword">REFERENCES</span> scenario(id_scenario) <span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">SET</span> <span class="stringliteral">NULL</span></div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keywordflow">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> historique_consommation_segment (</div>
<div class="line">    id_historique <span class="keywordtype">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</div>
<div class="line">    id_segment <span class="keywordtype">INT</span>,</div>
<div class="line">    consommation <span class="keywordtype">FLOAT</span> <span class="keyword">NOT</span> <span class="stringliteral">NULL</span>,</div>
<div class="line">    horodatage_releve <span class="keywordtype">TIMESTAMP</span> <span class="keyword">DEFAULT</span> <span class="keyword">CURRENT_TIMESTAMP</span>,</div>
<div class="line">    <span class="keyword">FOREIGN</span> KEY (id_segment) <span class="keyword">REFERENCES</span> segment(id_segment)</div>
<div class="line">);</div>
</div><!-- fragment --><ul>
<li>Installation :</li>
</ul>
<div class="fragment"><div class="line">$ mysql -h 127.0.0.1 -u root -ppassword eLight &lt; base-de-donnes.sql</div>
<div class="line"> </div>
<div class="line">$ mysql -h 127.0.0.1 -u root -ppassword eLight -e &quot;show tables;&quot;</div>
</div><!-- fragment --><h1>Qt</h1>
<p>Dans le fichier <code>.pro</code> :</p>
<div class="fragment"><div class="line">QT  += sql</div>
</div><!-- fragment --><p>Installation du paquet fournissant le plugin MySQL pour Qt 5 :</p>
<div class="fragment"><div class="line">$ sudo apt-get install libqt5sql5-mysql</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer"><img class="footer" src="lasalle-logo.png" height="31" alt="La Salle Avignon"/>&nbsp;<b>Campus La Salle Avignon</b>&nbsp;-&nbsp;9 Rue Notre Dame des 7 douleurs&nbsp;-&nbsp;BP 50165&nbsp;-&nbsp;84008 Avignon&nbsp;-&nbsp;Généré le Vendredi 6 Juin 2025 16:01:19 pour Projet elight par&nbsp;<a href="https://www.doxygen.org/index.html">doxygen</a>&nbsp;1.9.1&nbsp;</li>
  </ul>
</div>
</body>
</html>
